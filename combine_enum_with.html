<!DOCTYPE html>
<html>
<head>
    <title>Combine Enum with Comparator</title>
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        body {
            font-family: 'Lato', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f4f4;
            color: #333;
            display: grid;
            grid-template-columns: 250px 1fr;
            grid-template-rows: auto 1fr auto;
            grid-template-areas:
                "header header"
                "nav main"
                "footer footer";
            height: 100vh;
        }
        header {
            grid-area: header;
            background-color: #333;
            color: #fff;
            padding: 1em 0;
            text-align: center;
            position: relative;
        }
        header .home-link {
            position: absolute;
            top: 50%;
            left: 1em;
            transform: translateY(-50%);
            color: #fff;
            font-size: 1.5em;
            text-decoration: none;
        }
        header .home-link:hover {
            color: #ddd;
        }
        nav {
            grid-area: nav;
            background-color: #444;
            padding: 1em;
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }
        nav ul {
            list-style-type: none;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            height: 100%;
        }
        nav ul li {
            margin: 15px 0;
        }
        nav ul li a {
            color: #fff;
            text-decoration: none;
            padding: 10px 15px;
            transition: background-color 0.3s ease;
            border-radius: 5px;
        }
        nav ul li a:hover {
            background-color: #555;
        }
        main {
            grid-area: main;
            padding: 2em;
            overflow-y: auto;
        }
        section {
            margin-bottom: 2em;
        }
        section h2 {
            padding-bottom: 0.5em;
        }
        p {
            text-align: justify;
        }
        footer {
            grid-area: footer;
            background-color: #333;
            color: #fff;
            text-align: center;
            padding: 1em 0;
        }
        /* Styles for the refactoring list */
        .refactorings-list {
            list-style-type: disc; /* Use bullets */
            padding: 0;
        }
        .refactorings-list li {
            margin-bottom: 0.5em; /* Add some space between items */
        }
        /* Responsive design for smaller screens */
        @media (max-width: 600px) {
            body {
                grid-template-columns: 1fr;
                grid-template-rows: auto auto 1fr auto;
                grid-template-areas:
                    "header"
                    "nav"
                    "main"
                    "footer";
            }
            nav {
                height: auto;
            }
            header .home-link {
                left: 50%;
                transform: translate(-50%, -50%);
            }
        }
    </style>
</head>
<body>
    <header>
        <a href="index.html" class="home-link"><i class="fas fa-home"></i></a>
        <h1 style="font-family: 'Times New Roman', Times, serif;">Combine Enum with Comparator<sup>*cs</sup></h1>
    </header>
    <nav>
        <ul>           
            <li  style="font-family: 'Times New Roman', Times, serif;"><a href="#replacement">Replace Refactorings</a></li>
            <li  style="font-family: 'Times New Roman', Times, serif;"><a href="#interface"> Protocol Refactorings</a></li>
            <li  style="font-family: 'Times New Roman', Times, serif;"><a href="#addition">Addition Refactorings</a></li> 
             <li  style="font-family: 'Times New Roman', Times, serif;"><a href="#merge">Merge Refactorings</a></li> 
            <li  style="font-family: 'Times New Roman', Times, serif;"><a href="#remove">Remove Refactorings</a></li> 
                      
        </ul>
    </nav>
    <main>
        <section id="combine-enum">
            <!--<h2 style="font-family: 'Times New Roman', Times, serif;">Combine Enum with Comparator</h2>-->
            <pre><code> 
        - allSnapshotsSorted(allSnapshotNames, repoName, GetSnapshotsRequest.SortBy.NAME, order, includeIndexNames),
         -   GetSnapshotsRequest.SortBy.NAME,
          +  allSnapshotsSorted(allSnapshotNames, repoName, SnapshotSortKey.NAME, order, includeIndexNames),
           + SnapshotSortKey.NAME,
            order
        ); 
</code></pre>
            <p style="font-family: 'Times New Roman', Times, serif;"><strong>Reference:</strong>Sample code patch from line 104
                <a href="https://github.com/elastic/elasticsearch/commit/1fae3e75017ab831eab5ff30029bc97ebd52fe82" target="blanket">link</a>
</p>
            
       <p style="font-family: 'Times New Roman', Times, serif;">
    <strong>Refactoring Definition:</strong><br>
    <em>Combine Enum with Comparator</em> involves integrating an enum with its corresponding comparator logic, allowing each enum constant to define its own comparison behavior. This eliminates the need for separate comparators and makes the code more cohesive and easier to maintain.
</p>

<p style="font-family: 'Times New Roman', Times, serif;"><strong>Rationale:</strong></p>
<ul style="font-family: 'Times New Roman', Times, serif;">
    <li><strong>Improved Maintainability:</strong> Encapsulating comparison logic within the enum itself makes it easier to manage and update when new sorting criteria are introduced.</li>
    <li><strong>Increased Readability:</strong> Reduces the complexity of having separate comparators by tying the sorting logic directly to the enum values, making the code more intuitive.</li>
    <li><strong>Eliminates Redundancy:</strong> Consolidates related logic into a single location, avoiding duplication of comparator implementations across different parts of the codebase.</li>
    <li><strong>Extensibility:</strong> Adding a new sorting behavior becomes straightforward by simply updating the enum, without needing to modify other parts of the code.</li>
</ul>
<p style="font-family: 'Times New Roman', Times, serif;"><strong>Note:</strong> This is a <em>context-specific refactoring</em> that is applied in situations where sorting behavior is tightly coupled with enum constants, often seen in repository or sorting operations in data-driven systems.</p>
        </section>
    </main>
    <footer>
        <p style="font-family: 'Times New Roman', Times, serif;">&copy; 2025 Under-explored Refactorings in Real-World Java Projects</p>
    </footer>
</body>
</html>
